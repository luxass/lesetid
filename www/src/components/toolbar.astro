---
import { Icon } from "astro-icon/components";

const res = await fetch(new URL("/api/v1/texts", Astro.url));

let texts: string[] = [];

if (res.ok) {
  texts = await res.json();
}
---

<div class="border-card-border flex flex-wrap justify-between gap-2 rounded border-2 p-2">
  <div class="flex items-center gap-2">
    <Icon name="ph:alarm-duotone" size="24" />
    <span id="reading-time">0 min</span>
  </div>
  <select
    aria-label="Select a article to look at."
    class="bg-background rounded border-2 border-card-border px-2 pr-8 py-1 text-sm outline-none transition-colors duration-200 focus:border-accent focus:ring-2 focus:ring-accent"
  >
    <option value="" disabled selected>Select a text</option>
    {texts.map((text) => <option value={text}>{text}</option>)}
  </select>
</div>
